import base64

from py8583 import unpack8583, pack8583

from iso8583.specs import default_ascii as spec

dic = {'tpdu': '6056781234',
           'msg_type': '0200',
           'field_2': '620000000000000000',
           'field_3': '000000',
           'field_4': '1000',
           'field_11': '100000',
           'field_22': '032',
           'field_25': '00',
           'field_41': '00000001',
           'field_42': '000000000000001',
           'field_49': '344'
           }

for i in list(dic.keys()):
    print('{0}:{1}'.format(i, dic[i]))

data = pack8583(dic)
print('data:', data)

# message = '00A3' \
#           '6000000003' \
#           '0210743801000ED0' \
#           'A002' \
#           '18' \
#           '280000000000000000' \
#           '000000' \
#           '000000000010' \
#           '000000000008' \
#           '000026' \
#           '210829' \
#           '0821' \
#           '0000' \
#           '383031323039353039373231' \
#           '483035333238' \
#           '3030' \
#           '3238303030303031' \
#           '333434383838383030303030303031' \
#           '07' \
#           '20240821210829' \
#           '333434' \
#           '313536' \
#           '0054011874657374406566747061792E636F6D2E686B02283230323430383231323130383239323830303030303130303030323610027878'
# message = bytes.fromhex(data)
dic = unpack8583(data)
for i in list(dic.keys()):
    print('{0}:{1}'.format(i, dic[i]))

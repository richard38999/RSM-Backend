2021-10-14 00:02:24,749 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:02:24] "[37mOPTIONS /VMP/Sale HTTP/1.1[0m" 200 -
2021-10-14 00:02:24,759 DEBUG main.py:624 Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 976
Sec-Ch-Ua: "Chromium";v="94", "Google Chrome";v="94", ";Not A Brand";v="99"
Sec-Ch-Ua-Mobile: ?0
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzQxMzc3NjUsIm5iZiI6MTYzNDEzNzc2NSwianRpIjoiNWRmNjViM2QtNWVhNC00MjA0LWFjY2MtMjE4YjEzMmMzMTAwIiwiZXhwIjoxNjM0MTgwOTY1LCJpZGVudGl0eSI6InJpY2hhcmQiLCJmcmVzaCI6ZmFsc2UsInR5cGUiOiJhY2Nlc3MifQ.aUr0L_MFK8bNZZM0iA1Uy2eLDS4H_Dqmq6UALWZFss4
Content-Type: application/json;charset=UTF-8
Accept: application/json, text/plain, */*
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36
Contenttype: application/x-www-form-urlencoded
Usermane: richard
Sec-Ch-Ua-Platform: "Windows"
Origin: http://localhost:8080
Sec-Fetch-Site: cross-site
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://localhost:8080/
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-TW,zh;q=0.9,en-US;q=0.8,en;q=0.7


2021-10-14 00:02:24,763 DEBUG main.py:625 JSON: {'User_Confirm_Key': 'S0002575', 'TransactionType': 'Sale', 'PaymentType': 'WeChat', 'amount': 0.1, 'wallet': 'HK', 'SecretCode': '95a4197ef475c6b6bb2ae46131cd0410', 'out_trade_no': '', 'eft_trade_no': '', 'refund_no': '', 'service': 'service.wechat.web.PreOrder', 'subject': 'Testing', 'body': 'Testing', 'fee_type': 'HKD', 'tid': '123456', 'scene_type': 'APPLETS', 'openid': '', 'sub_openid': 'oghEf5Tp5xXBOnvhxvB22eJx-ngo', 'wechatWeb': 'N', 'active_time': '300', 'URL': 'http://vmp.eftpay.com.cn/VMP/Servlet/', 'notify_url': '', 'return_url': 'http://vmp.eftpay.com.cn/VMP/returnSuccess', 'app_pay': 'WEB', 'lang': 'en', 'billingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'shippingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'customerInfo': {'mobileNumber': '12345678', 'fullName': 'Atome Developer'}, 'items': [{'itemId': 'P100', 'name': 'iPhone 12 pro max', 'quantity': 1, 'price': 10894}], 'APIType': 'WEB', 'GatewayType': 'EFT'}
2021-10-14 00:02:24,765 DEBUG main.py:727 signStr: 95a4197ef475c6b6bb2ae46131cd0410active_time=300&body=Testing&fee_type=HKD&lang=en&out_trade_no=20211014000224&payType=WeChat&pay_scene=WEB&return_url=http://vmp.eftpay.com.cn/VMP/returnSuccess&service=service.wechat.web.PreOrder&subject=Testing&tid=123456&time=20211014000224&transaction_amount=0.1&user_confirm_key=S0002575&wallet=WECHATHK
2021-10-14 00:02:24,767 DEBUG main.py:730 Request Message: {"active_time": "300", "body": "Testing", "fee_type": "HKD", "lang": "en", "out_trade_no": "20211014000224", "payType": "WeChat", "pay_scene": "WEB", "return_url": "http://vmp.eftpay.com.cn/VMP/returnSuccess", "service": "service.wechat.web.PreOrder", "sign": "23c6f9b487696c19c98173583aa6335510945bfa5b9587f0b0ca32c7daa33821", "subject": "Testing", "tid": "123456", "time": "20211014000224", "transaction_amount": 0.1, "user_confirm_key": "S0002575", "wallet": "WECHATHK"}
2021-10-14 00:02:24,771 DEBUG connectionpool.py:231 Starting new HTTP connection (1): vmp.eftpay.com.cn:80
2021-10-14 00:02:24,999 DEBUG connectionpool.py:461 http://vmp.eftpay.com.cn:80 "POST /VMP/Servlet/JSAPIService.do HTTP/1.1" 200 None
2021-10-14 00:02:25,003 DEBUG main.py:1038 b'{"user_confirm_key":"S0002575","wallet":"WECHATHK","pay_apptrade":"http://vmp.eftpay.com.cn/VMP/web/payPage?userkey=S0002575&outTradeNo=20211014000224&lang=en&sign=7a5894996ac760a17e5aa1e5728ce60cdd676cf5837c21bc79ebf0da451086d2","return_char":"","transaction_amount":"0.10","sign":"2dfe895397c3a64b27fa2d35c5c39b534cc4e4cf29e1f8eaf2fa5b261602e54a","fee_type":"HKD","tid":"123456","eft_trade_no":"00001535000025781td72acjn345","out_trade_no":"20211014000224","payType":"WeChat","buyerType":"unknown","return_status":"00","time":"20211014000224"}'
2021-10-14 00:02:25,005 DEBUG main.py:1044 {'meta': {'status': 0, 'msg': 'Success'}, 'data': {'RawRequest': '{"active_time": "300", "body": "Testing", "fee_type": "HKD", "lang": "en", "out_trade_no": "20211014000224", "payType": "WeChat", "pay_scene": "WEB", "return_url": "http://vmp.eftpay.com.cn/VMP/returnSuccess", "service": "service.wechat.web.PreOrder", "sign": "23c6f9b487696c19c98173583aa6335510945bfa5b9587f0b0ca32c7daa33821", "subject": "Testing", "tid": "123456", "time": "20211014000224", "transaction_amount": 0.1, "user_confirm_key": "S0002575", "wallet": "WECHATHK"}', 'RawResponse': {'user_confirm_key': 'S0002575', 'wallet': 'WECHATHK', 'pay_apptrade': 'http://vmp.eftpay.com.cn/VMP/web/payPage?userkey=S0002575&outTradeNo=20211014000224&lang=en&sign=7a5894996ac760a17e5aa1e5728ce60cdd676cf5837c21bc79ebf0da451086d2', 'return_char': '', 'transaction_amount': '0.10', 'sign': '2dfe895397c3a64b27fa2d35c5c39b534cc4e4cf29e1f8eaf2fa5b261602e54a', 'fee_type': 'HKD', 'tid': '123456', 'eft_trade_no': '00001535000025781td72acjn345', 'out_trade_no': '20211014000224', 'payType': 'WeChat', 'buyerType': 'unknown', 'return_status': '00', 'time': '20211014000224'}}}
2021-10-14 00:02:25,007 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:02:25] "[37mPOST /VMP/Sale HTTP/1.1[0m" 200 -
2021-10-14 00:04:19,688 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:04:19] "[37mOPTIONS /VMP/Query HTTP/1.1[0m" 200 -
2021-10-14 00:04:19,694 DEBUG main.py:624 Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 991
Sec-Ch-Ua: "Chromium";v="94", "Google Chrome";v="94", ";Not A Brand";v="99"
Sec-Ch-Ua-Mobile: ?0
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzQxMzc3NjUsIm5iZiI6MTYzNDEzNzc2NSwianRpIjoiNWRmNjViM2QtNWVhNC00MjA0LWFjY2MtMjE4YjEzMmMzMTAwIiwiZXhwIjoxNjM0MTgwOTY1LCJpZGVudGl0eSI6InJpY2hhcmQiLCJmcmVzaCI6ZmFsc2UsInR5cGUiOiJhY2Nlc3MifQ.aUr0L_MFK8bNZZM0iA1Uy2eLDS4H_Dqmq6UALWZFss4
Content-Type: application/json;charset=UTF-8
Accept: application/json, text/plain, */*
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36
Contenttype: application/x-www-form-urlencoded
Usermane: richard
Sec-Ch-Ua-Platform: "Windows"
Origin: http://localhost:8080
Sec-Fetch-Site: cross-site
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://localhost:8080/
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-TW,zh;q=0.9,en-US;q=0.8,en;q=0.7


2021-10-14 00:04:19,696 DEBUG main.py:625 JSON: {'User_Confirm_Key': 'S0002575', 'TransactionType': 'Query', 'PaymentType': 'WeChat', 'amount': 0.1, 'wallet': 'HK', 'SecretCode': '95a4197ef475c6b6bb2ae46131cd0410', 'out_trade_no': '20211014000224', 'eft_trade_no': '', 'refund_no': '', 'service': 'service.wechat.web.PreOrder', 'subject': 'Testing', 'body': 'Testing', 'fee_type': 'HKD', 'tid': '123456', 'scene_type': 'APPLETS', 'openid': '', 'sub_openid': 'oghEf5Tp5xXBOnvhxvB22eJx-ngo', 'wechatWeb': 'N', 'active_time': '300', 'URL': 'http://vmp.eftpay.com.cn/VMP/Servlet/', 'notify_url': '', 'return_url': 'http://vmp.eftpay.com.cn/VMP/returnSuccess', 'app_pay': 'WEB', 'lang': 'en', 'billingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'shippingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'customerInfo': {'mobileNumber': '12345678', 'fullName': 'Atome Developer'}, 'items': [{'itemId': 'P100', 'name': 'iPhone 12 pro max', 'quantity': 1, 'price': 10894}], 'APIType': 'WEB', 'GatewayType': 'EFT'}
2021-10-14 00:04:19,698 DEBUG main.py:767 95a4197ef475c6b6bb2ae46131cd0410out_trade_no=20211014000224&querytype=OUT_TRADE&time=20211014000419&user_confirm_key=S0002575
2021-10-14 00:04:19,700 DEBUG main.py:770 Request Message: {"out_trade_no": "20211014000224", "querytype": "OUT_TRADE", "sign": "87b84f8ad00a6619af0dbe0bd47ee98f12dca09176f535e5cd233eda8ca6555f", "time": "20211014000419", "user_confirm_key": "S0002575"}
2021-10-14 00:04:19,704 DEBUG connectionpool.py:231 Starting new HTTP connection (1): vmp.eftpay.com.cn:80
2021-10-14 00:04:19,855 DEBUG connectionpool.py:461 http://vmp.eftpay.com.cn:80 "POST /VMP/Servlet/QRcodeTradeQuery.do HTTP/1.1" 200 None
2021-10-14 00:04:19,858 DEBUG main.py:1038 b'{"transaction_id":"4200001216202110140520298748","user_confirm_key":"S0002575","trade_time":"2021-10-14 00:04:12","return_char":"","transaction_amount":"0.1","sign":"66e1840af8418665a07b715f549d5f1c75413c40cc846b0ecda1eb1c960dd7c1","buyer_id":"o4GgauPLKZ-WrhFMRJfVYSPKVbfE","tid":"123456","eft_trade_no":"00001535000025781td72acjn345","payment_type":"WECHATHK","out_trade_no":"20211014000224","trade_status":"TRADE_SUCCESS","return_status":"00","trade_type":"SALE","currency":"HKD","time":"20211014000419"}'
2021-10-14 00:04:19,860 DEBUG main.py:1044 {'meta': {'status': 0, 'msg': 'Success'}, 'data': {'RawRequest': '{"out_trade_no": "20211014000224", "querytype": "OUT_TRADE", "sign": "87b84f8ad00a6619af0dbe0bd47ee98f12dca09176f535e5cd233eda8ca6555f", "time": "20211014000419", "user_confirm_key": "S0002575"}', 'RawResponse': {'transaction_id': '4200001216202110140520298748', 'user_confirm_key': 'S0002575', 'trade_time': '2021-10-14 00:04:12', 'return_char': '', 'transaction_amount': '0.1', 'sign': '66e1840af8418665a07b715f549d5f1c75413c40cc846b0ecda1eb1c960dd7c1', 'buyer_id': 'o4GgauPLKZ-WrhFMRJfVYSPKVbfE', 'tid': '123456', 'eft_trade_no': '00001535000025781td72acjn345', 'payment_type': 'WECHATHK', 'out_trade_no': '20211014000224', 'trade_status': 'TRADE_SUCCESS', 'return_status': '00', 'trade_type': 'SALE', 'currency': 'HKD', 'time': '20211014000419'}}}
2021-10-14 00:04:19,862 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:04:19] "[37mPOST /VMP/Query HTTP/1.1[0m" 200 -
2021-10-14 00:07:52,384 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:07:52] "[37mOPTIONS /VMP/Refund HTTP/1.1[0m" 200 -
2021-10-14 00:07:52,389 DEBUG main.py:624 Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1020
Sec-Ch-Ua: "Chromium";v="94", "Google Chrome";v="94", ";Not A Brand";v="99"
Sec-Ch-Ua-Mobile: ?0
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzQxMzc3NjUsIm5iZiI6MTYzNDEzNzc2NSwianRpIjoiNWRmNjViM2QtNWVhNC00MjA0LWFjY2MtMjE4YjEzMmMzMTAwIiwiZXhwIjoxNjM0MTgwOTY1LCJpZGVudGl0eSI6InJpY2hhcmQiLCJmcmVzaCI6ZmFsc2UsInR5cGUiOiJhY2Nlc3MifQ.aUr0L_MFK8bNZZM0iA1Uy2eLDS4H_Dqmq6UALWZFss4
Content-Type: application/json;charset=UTF-8
Accept: application/json, text/plain, */*
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36
Contenttype: application/x-www-form-urlencoded
Usermane: richard
Sec-Ch-Ua-Platform: "Windows"
Origin: http://localhost:8080
Sec-Fetch-Site: cross-site
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://localhost:8080/
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-TW,zh;q=0.9,en-US;q=0.8,en;q=0.7


2021-10-14 00:07:52,392 DEBUG main.py:625 JSON: {'User_Confirm_Key': 'S0002575', 'TransactionType': 'Refund', 'PaymentType': 'WeChat', 'amount': 0.1, 'wallet': 'HK', 'SecretCode': '95a4197ef475c6b6bb2ae46131cd0410', 'out_trade_no': '20211014000224', 'eft_trade_no': '00001535000025781td72acjn345', 'refund_no': '', 'service': 'service.wechat.web.PreOrder', 'subject': 'Testing', 'body': 'Testing', 'fee_type': 'HKD', 'tid': '123456', 'scene_type': 'APPLETS', 'openid': '', 'sub_openid': 'oghEf5Tp5xXBOnvhxvB22eJx-ngo', 'wechatWeb': 'N', 'active_time': '300', 'URL': 'http://vmp.eftpay.com.cn/VMP/Servlet/', 'notify_url': '', 'return_url': 'http://vmp.eftpay.com.cn/VMP/returnSuccess', 'app_pay': 'WEB', 'lang': 'en', 'billingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'shippingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'customerInfo': {'mobileNumber': '12345678', 'fullName': 'Atome Developer'}, 'items': [{'itemId': 'P100', 'name': 'iPhone 12 pro max', 'quantity': 1, 'price': 10894}], 'APIType': 'WEB', 'GatewayType': 'EFT'}
2021-10-14 00:07:52,394 DEBUG main.py:752 95a4197ef475c6b6bb2ae46131cd0410eft_trade_no=00001535000025781td72acjn345&out_refund_no=refund_20211014000752&out_trade_no=20211014000224&payType=WeChat&pay_scene=WEB&reason=Testing&return_amount=0.1&service=service.wechat.web.PreOrder&time=20211014000752&total_fee=0.1&user_confirm_key=S0002575
2021-10-14 00:07:52,395 DEBUG main.py:755 Request Message: {"eft_trade_no": "00001535000025781td72acjn345", "out_refund_no": "refund_20211014000752", "out_trade_no": "20211014000224", "payType": "WeChat", "pay_scene": "WEB", "reason": "Testing", "return_amount": 0.1, "service": "service.wechat.web.PreOrder", "sign": "c7f32c73c1596bea7c3f624c7aee8f541c6dc714e79d07e211f79bcbfd34c915", "time": "20211014000752", "total_fee": 0.1, "user_confirm_key": "S0002575"}
2021-10-14 00:07:52,399 DEBUG connectionpool.py:231 Starting new HTTP connection (1): vmp.eftpay.com.cn:80
2021-10-14 00:07:52,438 DEBUG connectionpool.py:461 http://vmp.eftpay.com.cn:80 "POST /VMP/Servlet/JSAPIService.do HTTP/1.1" 200 None
2021-10-14 00:07:52,441 DEBUG main.py:1038 b'{"return_status":"-13","return_char":"\xe5\x8f\x82\xe6\x95\xb0\xe9\x94\x99\xe8\xaf\xaf:\xe8\xaf\xb7\xe6\xa3\x80\xe6\x9f\xa5\xe8\xaf\xb7\xe6\xb1\x82\xe6\x8e\xa5\xe5\x8f\xa3\xe5\x8f\x82\xe6\x95\xb0transaction_amount"}'
2021-10-14 00:07:52,446 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:07:52] "[37mPOST /VMP/Refund HTTP/1.1[0m" 200 -
2021-10-14 00:09:21,760 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:09:21] "[37mOPTIONS /VMP/Refund HTTP/1.1[0m" 200 -
2021-10-14 00:09:21,765 DEBUG main.py:624 Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1018
Sec-Ch-Ua: "Chromium";v="94", "Google Chrome";v="94", ";Not A Brand";v="99"
Sec-Ch-Ua-Mobile: ?0
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzQxMzc3NjUsIm5iZiI6MTYzNDEzNzc2NSwianRpIjoiNWRmNjViM2QtNWVhNC00MjA0LWFjY2MtMjE4YjEzMmMzMTAwIiwiZXhwIjoxNjM0MTgwOTY1LCJpZGVudGl0eSI6InJpY2hhcmQiLCJmcmVzaCI6ZmFsc2UsInR5cGUiOiJhY2Nlc3MifQ.aUr0L_MFK8bNZZM0iA1Uy2eLDS4H_Dqmq6UALWZFss4
Content-Type: application/json;charset=UTF-8
Accept: application/json, text/plain, */*
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36
Contenttype: application/x-www-form-urlencoded
Usermane: richard
Sec-Ch-Ua-Platform: "Windows"
Origin: http://localhost:8080
Sec-Fetch-Site: cross-site
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://localhost:8080/
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-TW,zh;q=0.9,en-US;q=0.8,en;q=0.7


2021-10-14 00:09:21,768 DEBUG main.py:625 JSON: {'User_Confirm_Key': 'S0002575', 'TransactionType': 'Refund', 'PaymentType': 'Alipay', 'amount': 0.1, 'wallet': 'HK', 'SecretCode': '95a4197ef475c6b6bb2ae46131cd0410', 'out_trade_no': '20211014000224', 'eft_trade_no': '00001535000025781td72acjn345', 'refund_no': '', 'service': 'service.alipay.web.refund', 'subject': 'Testing', 'body': 'Testing', 'fee_type': 'HKD', 'tid': '123456', 'scene_type': 'APPLETS', 'openid': '', 'sub_openid': 'oghEf5Tp5xXBOnvhxvB22eJx-ngo', 'wechatWeb': 'N', 'active_time': '300', 'URL': 'http://vmp.eftpay.com.cn/VMP/Servlet/', 'notify_url': '', 'return_url': 'http://vmp.eftpay.com.cn/VMP/returnSuccess', 'app_pay': 'WEB', 'lang': 'en', 'billingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'shippingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'customerInfo': {'mobileNumber': '12345678', 'fullName': 'Atome Developer'}, 'items': [{'itemId': 'P100', 'name': 'iPhone 12 pro max', 'quantity': 1, 'price': 10894}], 'APIType': 'WEB', 'GatewayType': 'EFT'}
2021-10-14 00:09:21,770 DEBUG main.py:752 95a4197ef475c6b6bb2ae46131cd0410eft_trade_no=00001535000025781td72acjn345&out_refund_no=refund_20211014000921&out_trade_no=20211014000224&payType=Alipay&pay_scene=WEB&reason=Testing&return_amount=0.1&service=service.alipay.web.refund&time=20211014000921&total_fee=0.1&user_confirm_key=S0002575&wallet=ALIPAYHK
2021-10-14 00:09:21,772 DEBUG main.py:755 Request Message: {"eft_trade_no": "00001535000025781td72acjn345", "out_refund_no": "refund_20211014000921", "out_trade_no": "20211014000224", "payType": "Alipay", "pay_scene": "WEB", "reason": "Testing", "return_amount": 0.1, "service": "service.alipay.web.refund", "sign": "05d4c5d23c454ebdcaccd8ec67ef766b87eab68e384da9093aeb8364a48c0fe2", "time": "20211014000921", "total_fee": 0.1, "user_confirm_key": "S0002575", "wallet": "ALIPAYHK"}
2021-10-14 00:09:21,775 DEBUG connectionpool.py:231 Starting new HTTP connection (1): vmp.eftpay.com.cn:80
2021-10-14 00:09:21,845 DEBUG connectionpool.py:461 http://vmp.eftpay.com.cn:80 "POST /VMP/Servlet/JSAPIService.do HTTP/1.1" 200 None
2021-10-14 00:09:21,849 DEBUG main.py:1038 b'{"return_status":"-05","return_char":"\xe6\x8e\xa5\xe5\x8f\xa3[service.alipay.web.refund]\xe5\x88\x9b\xe5\xbb\xba\xe5\xa4\xb1\xe8\xb4\xa5"}'
2021-10-14 00:09:21,854 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:09:21] "[37mPOST /VMP/Refund HTTP/1.1[0m" 200 -
2021-10-14 00:13:39,902 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:13:39] "[37mOPTIONS /VMP/Query HTTP/1.1[0m" 200 -
2021-10-14 00:13:39,907 DEBUG main.py:624 Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 989
Sec-Ch-Ua: "Chromium";v="94", "Google Chrome";v="94", ";Not A Brand";v="99"
Sec-Ch-Ua-Mobile: ?0
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzQxMzc3NjUsIm5iZiI6MTYzNDEzNzc2NSwianRpIjoiNWRmNjViM2QtNWVhNC00MjA0LWFjY2MtMjE4YjEzMmMzMTAwIiwiZXhwIjoxNjM0MTgwOTY1LCJpZGVudGl0eSI6InJpY2hhcmQiLCJmcmVzaCI6ZmFsc2UsInR5cGUiOiJhY2Nlc3MifQ.aUr0L_MFK8bNZZM0iA1Uy2eLDS4H_Dqmq6UALWZFss4
Content-Type: application/json;charset=UTF-8
Accept: application/json, text/plain, */*
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36
Contenttype: application/x-www-form-urlencoded
Usermane: richard
Sec-Ch-Ua-Platform: "Windows"
Origin: http://localhost:8080
Sec-Fetch-Site: cross-site
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://localhost:8080/
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-TW,zh;q=0.9,en-US;q=0.8,en;q=0.7


2021-10-14 00:13:39,910 DEBUG main.py:625 JSON: {'User_Confirm_Key': 'S0002575', 'TransactionType': 'Query', 'PaymentType': 'WeChat', 'amount': 0.1, 'wallet': 'HK', 'SecretCode': '95a4197ef475c6b6bb2ae46131cd0410', 'out_trade_no': '20211014000224', 'eft_trade_no': '', 'refund_no': '', 'service': 'service.wechat.web.Refund', 'subject': 'Testing', 'body': 'Testing', 'fee_type': 'HKD', 'tid': '123456', 'scene_type': 'APPLETS', 'openid': '', 'sub_openid': 'oghEf5Tp5xXBOnvhxvB22eJx-ngo', 'wechatWeb': 'N', 'active_time': '300', 'URL': 'http://vmp.eftpay.com.cn/VMP/Servlet/', 'notify_url': '', 'return_url': 'http://vmp.eftpay.com.cn/VMP/returnSuccess', 'app_pay': 'WEB', 'lang': 'en', 'billingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'shippingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'customerInfo': {'mobileNumber': '12345678', 'fullName': 'Atome Developer'}, 'items': [{'itemId': 'P100', 'name': 'iPhone 12 pro max', 'quantity': 1, 'price': 10894}], 'APIType': 'WEB', 'GatewayType': 'EFT'}
2021-10-14 00:13:39,912 DEBUG main.py:767 95a4197ef475c6b6bb2ae46131cd0410out_trade_no=20211014000224&querytype=OUT_TRADE&time=20211014001339&user_confirm_key=S0002575
2021-10-14 00:13:39,914 DEBUG main.py:770 Request Message: {"out_trade_no": "20211014000224", "querytype": "OUT_TRADE", "sign": "6ebff4a2d6be05ebdad952fe36834eb784752532a490c9db35c275b158b68aaa", "time": "20211014001339", "user_confirm_key": "S0002575"}
2021-10-14 00:13:39,919 DEBUG connectionpool.py:231 Starting new HTTP connection (1): vmp.eftpay.com.cn:80
2021-10-14 00:13:40,105 DEBUG connectionpool.py:461 http://vmp.eftpay.com.cn:80 "POST /VMP/Servlet/QRcodeTradeQuery.do HTTP/1.1" 200 None
2021-10-14 00:13:40,108 DEBUG main.py:1038 b'{"transaction_id":"4200001216202110140520298748","user_confirm_key":"S0002575","trade_time":"2021-10-14 00:04:12","return_char":"","transaction_amount":"0.1","sign":"4783f55ba85616df25f0caa323f15c1df6be358b0efbdb7109e6b8345134d67a","buyer_id":"o4GgauPLKZ-WrhFMRJfVYSPKVbfE","tid":"123456","eft_trade_no":"00001535000025781td72acjn345","payment_type":"WECHATHK","out_trade_no":"20211014000224","trade_status":"TRADE_SUCCESS","return_status":"00","trade_type":"SALE","currency":"HKD","time":"20211014001340"}'
2021-10-14 00:13:40,110 DEBUG main.py:1044 {'meta': {'status': 0, 'msg': 'Success'}, 'data': {'RawRequest': '{"out_trade_no": "20211014000224", "querytype": "OUT_TRADE", "sign": "6ebff4a2d6be05ebdad952fe36834eb784752532a490c9db35c275b158b68aaa", "time": "20211014001339", "user_confirm_key": "S0002575"}', 'RawResponse': {'transaction_id': '4200001216202110140520298748', 'user_confirm_key': 'S0002575', 'trade_time': '2021-10-14 00:04:12', 'return_char': '', 'transaction_amount': '0.1', 'sign': '4783f55ba85616df25f0caa323f15c1df6be358b0efbdb7109e6b8345134d67a', 'buyer_id': 'o4GgauPLKZ-WrhFMRJfVYSPKVbfE', 'tid': '123456', 'eft_trade_no': '00001535000025781td72acjn345', 'payment_type': 'WECHATHK', 'out_trade_no': '20211014000224', 'trade_status': 'TRADE_SUCCESS', 'return_status': '00', 'trade_type': 'SALE', 'currency': 'HKD', 'time': '20211014001340'}}}
2021-10-14 00:13:40,113 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:13:40] "[37mPOST /VMP/Query HTTP/1.1[0m" 200 -
2021-10-14 00:13:46,020 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:13:46] "[37mOPTIONS /VMP/Query HTTP/1.1[0m" 200 -
2021-10-14 00:13:46,025 DEBUG main.py:624 Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1017
Sec-Ch-Ua: "Chromium";v="94", "Google Chrome";v="94", ";Not A Brand";v="99"
Sec-Ch-Ua-Mobile: ?0
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzQxMzc3NjUsIm5iZiI6MTYzNDEzNzc2NSwianRpIjoiNWRmNjViM2QtNWVhNC00MjA0LWFjY2MtMjE4YjEzMmMzMTAwIiwiZXhwIjoxNjM0MTgwOTY1LCJpZGVudGl0eSI6InJpY2hhcmQiLCJmcmVzaCI6ZmFsc2UsInR5cGUiOiJhY2Nlc3MifQ.aUr0L_MFK8bNZZM0iA1Uy2eLDS4H_Dqmq6UALWZFss4
Content-Type: application/json;charset=UTF-8
Accept: application/json, text/plain, */*
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36
Contenttype: application/x-www-form-urlencoded
Usermane: richard
Sec-Ch-Ua-Platform: "Windows"
Origin: http://localhost:8080
Sec-Fetch-Site: cross-site
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://localhost:8080/
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-TW,zh;q=0.9,en-US;q=0.8,en;q=0.7


2021-10-14 00:13:46,028 DEBUG main.py:625 JSON: {'User_Confirm_Key': 'S0002575', 'TransactionType': 'Query', 'PaymentType': 'WeChat', 'amount': 0.1, 'wallet': 'HK', 'SecretCode': '95a4197ef475c6b6bb2ae46131cd0410', 'out_trade_no': '20211014000224', 'eft_trade_no': '00001535000025781td72acjn345', 'refund_no': '', 'service': 'service.wechat.web.Refund', 'subject': 'Testing', 'body': 'Testing', 'fee_type': 'HKD', 'tid': '123456', 'scene_type': 'APPLETS', 'openid': '', 'sub_openid': 'oghEf5Tp5xXBOnvhxvB22eJx-ngo', 'wechatWeb': 'N', 'active_time': '300', 'URL': 'http://vmp.eftpay.com.cn/VMP/Servlet/', 'notify_url': '', 'return_url': 'http://vmp.eftpay.com.cn/VMP/returnSuccess', 'app_pay': 'WEB', 'lang': 'en', 'billingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'shippingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'customerInfo': {'mobileNumber': '12345678', 'fullName': 'Atome Developer'}, 'items': [{'itemId': 'P100', 'name': 'iPhone 12 pro max', 'quantity': 1, 'price': 10894}], 'APIType': 'WEB', 'GatewayType': 'EFT'}
2021-10-14 00:13:46,030 DEBUG main.py:767 95a4197ef475c6b6bb2ae46131cd0410eft_trade_no=00001535000025781td72acjn345&out_trade_no=20211014000224&querytype=OUT_TRADE&time=20211014001346&user_confirm_key=S0002575
2021-10-14 00:13:46,031 DEBUG main.py:770 Request Message: {"eft_trade_no": "00001535000025781td72acjn345", "out_trade_no": "20211014000224", "querytype": "OUT_TRADE", "sign": "81ef2264e780f0fb362d23b970441392b785c2d9fd08209fde89eb39431047f3", "time": "20211014001346", "user_confirm_key": "S0002575"}
2021-10-14 00:13:46,035 DEBUG connectionpool.py:231 Starting new HTTP connection (1): vmp.eftpay.com.cn:80
2021-10-14 00:13:46,189 DEBUG connectionpool.py:461 http://vmp.eftpay.com.cn:80 "POST /VMP/Servlet/QRcodeTradeQuery.do HTTP/1.1" 200 None
2021-10-14 00:13:46,203 DEBUG main.py:1038 b'{"transaction_id":"4200001216202110140520298748","user_confirm_key":"S0002575","trade_time":"2021-10-14 00:04:12","return_char":"","transaction_amount":"0.1","sign":"798c2d786415cf0a2afa279dc264bada0116afa95238f287d9882b8b33b221d3","buyer_id":"o4GgauPLKZ-WrhFMRJfVYSPKVbfE","tid":"123456","eft_trade_no":"00001535000025781td72acjn345","payment_type":"WECHATHK","out_trade_no":"20211014000224","trade_status":"TRADE_SUCCESS","return_status":"00","trade_type":"SALE","currency":"HKD","time":"20211014001346"}'
2021-10-14 00:13:46,211 DEBUG main.py:1044 {'meta': {'status': 0, 'msg': 'Success'}, 'data': {'RawRequest': '{"eft_trade_no": "00001535000025781td72acjn345", "out_trade_no": "20211014000224", "querytype": "OUT_TRADE", "sign": "81ef2264e780f0fb362d23b970441392b785c2d9fd08209fde89eb39431047f3", "time": "20211014001346", "user_confirm_key": "S0002575"}', 'RawResponse': {'transaction_id': '4200001216202110140520298748', 'user_confirm_key': 'S0002575', 'trade_time': '2021-10-14 00:04:12', 'return_char': '', 'transaction_amount': '0.1', 'sign': '798c2d786415cf0a2afa279dc264bada0116afa95238f287d9882b8b33b221d3', 'buyer_id': 'o4GgauPLKZ-WrhFMRJfVYSPKVbfE', 'tid': '123456', 'eft_trade_no': '00001535000025781td72acjn345', 'payment_type': 'WECHATHK', 'out_trade_no': '20211014000224', 'trade_status': 'TRADE_SUCCESS', 'return_status': '00', 'trade_type': 'SALE', 'currency': 'HKD', 'time': '20211014001346'}}}
2021-10-14 00:13:46,217 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:13:46] "[37mPOST /VMP/Query HTTP/1.1[0m" 200 -
2021-10-14 00:13:52,694 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:13:52] "[37mOPTIONS /VMP/Refund HTTP/1.1[0m" 200 -
2021-10-14 00:13:52,699 DEBUG main.py:624 Host: 127.0.0.1:5000
Connection: keep-alive
Content-Length: 1018
Sec-Ch-Ua: "Chromium";v="94", "Google Chrome";v="94", ";Not A Brand";v="99"
Sec-Ch-Ua-Mobile: ?0
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzQxMzc3NjUsIm5iZiI6MTYzNDEzNzc2NSwianRpIjoiNWRmNjViM2QtNWVhNC00MjA0LWFjY2MtMjE4YjEzMmMzMTAwIiwiZXhwIjoxNjM0MTgwOTY1LCJpZGVudGl0eSI6InJpY2hhcmQiLCJmcmVzaCI6ZmFsc2UsInR5cGUiOiJhY2Nlc3MifQ.aUr0L_MFK8bNZZM0iA1Uy2eLDS4H_Dqmq6UALWZFss4
Content-Type: application/json;charset=UTF-8
Accept: application/json, text/plain, */*
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36
Contenttype: application/x-www-form-urlencoded
Usermane: richard
Sec-Ch-Ua-Platform: "Windows"
Origin: http://localhost:8080
Sec-Fetch-Site: cross-site
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: http://localhost:8080/
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-TW,zh;q=0.9,en-US;q=0.8,en;q=0.7


2021-10-14 00:13:52,702 DEBUG main.py:625 JSON: {'User_Confirm_Key': 'S0002575', 'TransactionType': 'Refund', 'PaymentType': 'WeChat', 'amount': 0.1, 'wallet': 'HK', 'SecretCode': '95a4197ef475c6b6bb2ae46131cd0410', 'out_trade_no': '20211014000224', 'eft_trade_no': '00001535000025781td72acjn345', 'refund_no': '', 'service': 'service.wechat.web.Refund', 'subject': 'Testing', 'body': 'Testing', 'fee_type': 'HKD', 'tid': '123456', 'scene_type': 'APPLETS', 'openid': '', 'sub_openid': 'oghEf5Tp5xXBOnvhxvB22eJx-ngo', 'wechatWeb': 'N', 'active_time': '300', 'URL': 'http://vmp.eftpay.com.cn/VMP/Servlet/', 'notify_url': '', 'return_url': 'http://vmp.eftpay.com.cn/VMP/returnSuccess', 'app_pay': 'WEB', 'lang': 'en', 'billingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'shippingAddress': {'countryCode': 'HK', 'postCode': '999077', 'lines': ['¤¤°ê', '­»´ä', '¤EÀs', '©ô¨¤']}, 'customerInfo': {'mobileNumber': '12345678', 'fullName': 'Atome Developer'}, 'items': [{'itemId': 'P100', 'name': 'iPhone 12 pro max', 'quantity': 1, 'price': 10894}], 'APIType': 'WEB', 'GatewayType': 'EFT'}
2021-10-14 00:13:52,704 DEBUG main.py:752 95a4197ef475c6b6bb2ae46131cd0410eft_trade_no=00001535000025781td72acjn345&out_refund_no=refund_20211014001352&out_trade_no=20211014000224&payType=WeChat&pay_scene=WEB&reason=Testing&return_amount=0.1&service=service.wechat.web.Refund&time=20211014001352&total_fee=0.1&user_confirm_key=S0002575
2021-10-14 00:13:52,706 DEBUG main.py:755 Request Message: {"eft_trade_no": "00001535000025781td72acjn345", "out_refund_no": "refund_20211014001352", "out_trade_no": "20211014000224", "payType": "WeChat", "pay_scene": "WEB", "reason": "Testing", "return_amount": 0.1, "service": "service.wechat.web.Refund", "sign": "ac7aa4a38b91a227f87a9c998962dda2a77250dc99838561f16f273ff45ab491", "time": "20211014001352", "total_fee": 0.1, "user_confirm_key": "S0002575"}
2021-10-14 00:13:52,709 DEBUG connectionpool.py:231 Starting new HTTP connection (1): vmp.eftpay.com.cn:80
2021-10-14 00:13:52,767 DEBUG connectionpool.py:461 http://vmp.eftpay.com.cn:80 "POST /VMP/Servlet/JSAPIService.do HTTP/1.1" 200 None
2021-10-14 00:13:52,770 DEBUG main.py:1038 b'{"return_status":"-13","return_char":"\xe5\x8f\x82\xe6\x95\xb0\xe9\x94\x99\xe8\xaf\xaf:\xe8\xaf\xb7\xe6\xa3\x80\xe6\x9f\xa5\xe8\xaf\xb7\xe6\xb1\x82\xe6\x8e\xa5\xe5\x8f\xa3\xe5\x8f\x82\xe6\x95\xb0wallet"}'
2021-10-14 00:13:52,775 INFO _internal.py:113 127.0.0.1 - - [14/Oct/2021 00:13:52] "[37mPOST /VMP/Refund HTTP/1.1[0m" 200 -
